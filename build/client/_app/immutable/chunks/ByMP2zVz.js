import{c as pe,b as Ne,aj as Se,G as U,h as T,ak as ke,a as De,l as x,Z as xe,D as Oe,H as Le,F as le,I as B,f as R,al as Re,am as He,d as $,s as ze,an as P,ao as q,e as D,ap as ne,O as Ce,aq as ie,ar as ge,as as Fe,J as we,p as Ve,at as Pe,au as Y,M as ee,av as Te,aw as qe,ax as Ge,ay as Je,az as Ue,aA as Be,a0 as Ye,aB as Ke,aC as Qe,aD as We,aE as Xe,aF as Ze,aG as je,aH as Ae,af as $e,j as ea,L as Ee,aI as aa,aJ as ta,T as ra,aK as re,aL as sa,q as la,ad as na,Q as oe,ae as ue,ag as ia,v as oa,x as ce,y as ua,t as ca,z as F,A as V,B as fe,w as fa,C as de,R as da}from"./CzqljEhS.js";import"./DsnmJJEf.js";import{p as K,i as va}from"./ByzzCBZf.js";function ka(a,t){return t}function _a(a,t,e){for(var s=a.items,r=[],n=t.length,l=0;l<n;l++)Je(t[l].e,r,!0);var o=n>0&&r.length===0&&e!==null;if(o){var v=e.parentNode;Ue(v),v.append(e),s.clear(),I(a,t[0].prev,t[n-1].next)}Be(r,()=>{for(var i=0;i<n;i++){var _=t[i];o||(s.delete(_.k),I(a,_.prev,_.next)),Te(_.e,!o)}})}function Da(a,t,e,s,r,n=null){var l=a,o={flags:t,items:new Map,first:null},v=(t&Se)!==0;if(v){var i=a;l=T?U(ke(i)):i.appendChild(pe())}T&&De();var _=null,A=!1,E=new Map,w=xe(()=>{var m=e();return Fe(m)?m:m==null?[]:ge(m)}),c,h;function d(){ha(h,c,o,E,l,r,t,s,e),n!==null&&(c.length===0?_?we(_):_=$(()=>n(l)):_!==null&&Ve(_,()=>{_=null}))}Ne(()=>{h??=Ye,c=x(w);var m=c.length;if(A&&m===0)return;A=m===0;let p=!1;if(T){var g=Oe(l)===Le;g!==(m===0)&&(l=le(),U(l),B(!1),p=!0)}if(T){for(var y=null,b,u=0;u<m;u++){if(R.nodeType===Re&&R.data===He){l=R,p=!0,B(!1);break}var f=c[u],S=s(f,u);b=ae(R,o,y,null,f,S,u,r,t,e),o.items.set(S,b),y=b}m>0&&U(le())}if(T)m===0&&n&&(_=$(()=>n(l)));else if(ze()){var O=new Set,z=D;for(u=0;u<m;u+=1){f=c[u],S=s(f,u);var N=o.items.get(S)??E.get(S);N?(t&(P|q))!==0&&ye(N,f,u,t):(b=ae(null,o,null,null,f,S,u,r,t,e,!0),E.set(S,b)),O.add(S)}for(const[M,C]of o.items)O.has(M)||z.skipped_effects.add(C.e);z.add_callback(d)}else d();p&&B(!0),x(w)}),T&&(l=R)}function ha(a,t,e,s,r,n,l,o,v){var i=(l&qe)!==0,_=(l&(P|q))!==0,A=t.length,E=e.items,w=e.first,c=w,h,d=null,m,p=[],g=[],y,b,u,f;if(i)for(f=0;f<A;f+=1)y=t[f],b=o(y,f),u=E.get(b),u!==void 0&&(u.a?.measure(),(m??=new Set).add(u));for(f=0;f<A;f+=1){if(y=t[f],b=o(y,f),u=E.get(b),u===void 0){var S=s.get(b);if(S!==void 0){s.delete(b),E.set(b,S);var O=d?d.next:c;I(e,d,S),I(e,S,O),Q(S,O,r),d=S}else{var z=c?c.e.nodes_start:r;d=ae(z,e,d,d===null?e.first:d.next,y,b,f,n,l,v)}E.set(b,d),p=[],g=[],c=d.next;continue}if(_&&ye(u,y,f,l),(u.e.f&Y)!==0&&(we(u.e),i&&(u.a?.unfix(),(m??=new Set).delete(u))),u!==c){if(h!==void 0&&h.has(u)){if(p.length<g.length){var N=g[0],M;d=N.prev;var C=p[0],G=p[p.length-1];for(M=0;M<p.length;M+=1)Q(p[M],N,r);for(M=0;M<g.length;M+=1)h.delete(g[M]);I(e,C.prev,G.next),I(e,d,C),I(e,G,N),c=N,d=G,f-=1,p=[],g=[]}else h.delete(u),Q(u,c,r),I(e,u.prev,u.next),I(e,u,d===null?e.first:d.next),I(e,d,u),d=u;continue}for(p=[],g=[];c!==null&&c.k!==b;)(c.e.f&Y)===0&&(h??=new Set).add(c),g.push(c),c=c.next;if(c===null)continue;u=c}p.push(u),d=u,c=u.next}if(c!==null||h!==void 0){for(var L=h===void 0?[]:ge(h);c!==null;)(c.e.f&Y)===0&&L.push(c),c=c.next;var J=L.length;if(J>0){var Me=(l&Se)!==0&&A===0?r:null;if(i){for(f=0;f<J;f+=1)L[f].a?.measure();for(f=0;f<J;f+=1)L[f].a?.fix()}_a(e,L,Me)}}i&&ee(()=>{if(m!==void 0)for(u of m)u.a?.apply()}),a.first=e.first&&e.first.e,a.last=d&&d.e;for(var Ie of s.values())Te(Ie.e);s.clear()}function ye(a,t,e,s){(s&P)!==0&&ne(a.v,t),(s&q)!==0?ne(a.i,e):a.i=e}function ae(a,t,e,s,r,n,l,o,v,i,_){var A=(v&P)!==0,E=(v&Pe)===0,w=A?E?Ce(r,!1,!1):ie(r):r,c=(v&q)===0?l:ie(l),h={i:c,v:w,k:n,a:null,e:null,prev:e,next:s};try{if(a===null){var d=document.createDocumentFragment();d.append(a=pe())}return h.e=$(()=>o(a,w,c,i),T),h.e.prev=e&&e.e,h.e.next=s&&s.e,e===null?_||(t.first=h):(e.next=h,e.e.next=h.e),s!==null&&(s.prev=h,s.e.prev=h.e),h}finally{}}function Q(a,t,e){for(var s=a.next?a.next.e.nodes_start:e,r=t?t.e.nodes_start:e,n=a.e.nodes_start;n!==null&&n!==s;){var l=Ge(n);r.before(n),n=l}}function I(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}const ve=[...` 	
\r\fÂ \v\uFEFF`];function ma(a,t,e){var s=a==null?"":""+a;if(t&&(s=s?s+" "+t:t),e){for(var r in e)if(e[r])s=s?s+" "+r:r;else if(s.length)for(var n=r.length,l=0;(l=s.indexOf(r,l))>=0;){var o=l+n;(l===0||ve.includes(s[l-1]))&&(o===s.length||ve.includes(s[o]))?s=(l===0?"":s.substring(0,l))+s.substring(o+1):l=o}}return s===""?null:s}function xa(a,t){return a==null?null:String(a)}function ba(a,t,e,s,r,n){var l=a.__className;if(T||l!==e||l===void 0){var o=ma(e,s,n);(!T||o!==a.getAttribute("class"))&&(o==null?a.removeAttribute("class"):a.className=o),a.__className=e}else if(n&&r!==n)for(var v in n){var i=!!n[v];(r==null||i!==!!r[v])&&a.classList.toggle(v,i)}return n}const pa=Symbol("is custom element"),Sa=Symbol("is html");function Oa(a){if(T){var t=!1,e=()=>{if(!t){if(t=!0,a.hasAttribute("value")){var s=a.value;_e(a,"value",null),a.value=s}if(a.hasAttribute("checked")){var r=a.checked;_e(a,"checked",null),a.checked=r}}};a.__on_r=e,Xe(e),Ze()}}function La(a,t){var e=se(a);e.value===(e.value=t??void 0)||a.value===t&&(t!==0||a.nodeName!=="PROGRESS")||(a.value=t??"")}function Ra(a,t){var e=se(a);e.checked!==(e.checked=t??void 0)&&(a.checked=t)}function _e(a,t,e,s){var r=se(a);T&&(r[t]=a.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&a.nodeName==="LINK")||r[t]!==(r[t]=e)&&(t==="loading"&&(a[je]=e),e==null?a.removeAttribute(t):typeof e!="string"&&ga(a).includes(t)?a[t]=e:a.setAttribute(t,e))}function se(a){return a.__attributes??={[pa]:a.nodeName.includes("-"),[Sa]:a.namespaceURI===Ke}}var he=new Map;function ga(a){var t=a.getAttribute("is")||a.nodeName,e=he.get(t);if(e)return e;he.set(t,e=[]);for(var s,r=a,n=Element.prototype;n!==r;){s=We(r);for(var l in s)s[l].set&&e.push(l);r=Qe(r)}return e}function Ha(a,t,e=t){var s=new WeakSet;Ae(a,"input",async r=>{var n=r?a.defaultValue:a.value;if(n=X(a)?Z(n):n,e(n),D!==null&&s.add(D),await $e(),n!==(n=t())){var l=a.selectionStart,o=a.selectionEnd;a.value=n??"",o!==null&&(a.selectionStart=l,a.selectionEnd=Math.min(o,a.value.length))}}),(T&&a.defaultValue!==a.value||ea(t)==null&&a.value)&&(e(X(a)?Z(a.value):a.value),D!==null&&s.add(D)),Ee(()=>{var r=t();if(a===document.activeElement){var n=aa??D;if(s.has(n))return}X(a)&&r===Z(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}const W=new Set;function za(a,t,e,s,r=s){var n=e.getAttribute("type")==="checkbox",l=a;let o=!1;if(t!==null)for(var v of t)l=l[v]??=[];l.push(e),Ae(e,"change",()=>{var i=e.__value;n&&(i=me(l,i,e.checked)),r(i)},()=>r(n?[]:null)),Ee(()=>{var i=s();if(T&&e.defaultChecked!==e.checked){o=!0;return}n?(i=i||[],e.checked=i.includes(e.__value)):e.checked=ta(e.__value,i)}),ra(()=>{var i=l.indexOf(e);i!==-1&&l.splice(i,1)}),W.has(l)||(W.add(l),ee(()=>{l.sort((i,_)=>i.compareDocumentPosition(_)===4?-1:1),W.delete(l)})),ee(()=>{if(o){var i;if(n)i=me(l,i,e.checked);else{var _=l.find(A=>A.checked);i=_?.__value}r(i)}})}function me(a,t,e){for(var s=new Set,r=0;r<a.length;r+=1)a[r].checked&&s.add(a[r].__value);return e||s.delete(t),Array.from(s)}function X(a){var t=a.type;return t==="number"||t==="range"}function Z(a){return a===""?null:+a}function wa(){const{subscribe:a,update:t}=re([]);return{subscribe:a,add:(e,s="success",r=3e3)=>{const n=Date.now()+Math.random(),l={id:n,message:e,type:s,duration:r};let o=!0;return t(v=>v.some(_=>_.message===e&&_.type===s)?(o=!1,v):[...v,l]),o?(r>0&&setTimeout(()=>{setTimeout(()=>{t(v=>v.filter(i=>i.id!==n))},300)},r),n):null},remove:e=>{t(s=>s.filter(r=>r.id!==e))},clear:()=>{t(()=>[])},success:(e,s=3e3)=>k.add(e,"success",s),error:(e,s=4e3)=>k.add(e,"error",s),warning:(e,s=3500)=>k.add(e,"warning",s),info:(e,s=3e3)=>k.add(e,"info",s)}}const k=wa();k.add;const Ca=(a,t)=>k.add(a,"success",t),Fa=(a,t)=>k.add(a,"error",t);var Ta=ca('<div><div class="toast-content svelte-l93vew"><span class="material-symbols-outlined toast-icon svelte-l93vew"> </span> <span class="toast-message svelte-l93vew"> </span> <button class="toast-close svelte-l93vew" aria-label="Close notification"><span class="material-symbols-outlined svelte-l93vew">close</span></button></div></div>');function Va(a,t){la(t,!0);let e=K(t,"message",3,""),s=K(t,"type",3,"success"),r=K(t,"duration",3,3e3),n=ue(!0),l=ue(!1),o;na(()=>(r()>0&&(o=setTimeout(()=>{v()},r())),()=>{o&&clearTimeout(o)}));function v(){oe(l,!0),setTimeout(()=>{oe(n,!1),t.onClose&&t.onClose()},300)}function i(w){switch(w){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"check_circle"}}var _=ia(),A=oa(_);{var E=w=>{var c=Ta();let h;var d=F(c),m=F(d),p=F(m,!0);V(m);var g=fe(m,2),y=F(g,!0);V(g);var b=fe(g,2);b.__click=v,V(d),V(c),fa((u,f)=>{h=ba(c,1,`toast toast-${s()??""}`,"svelte-l93vew",h,u),de(p,f),de(y,e())},[()=>({"toast-visible":x(n)&&!x(l),"toast-hiding":x(l)}),()=>i(s())]),ce(w,c)};va(A,w=>{x(n)&&w(E)})}ce(a,_),ua()}sa(["click"]);function Aa(){const{subscribe:a,update:t}=re([]);return{subscribe:a,open:(e,s={},r={})=>{const n=Date.now()+Math.random(),l={id:n,component:e,props:s,options:{closable:!0,backdrop:!0,size:"medium",...r}};return t(o=>[...o,l]),n},close:e=>{t(s=>s.filter(r=>r.id!==e))},closeTop:()=>{t(e=>e.length>0?e.slice(0,-1):e)},closeAll:()=>{t(()=>[])},confirm:(e,s,r,n,l={})=>H.open("ConfirmModal",{title:e,message:s,onConfirm:r,onCancel:n,onDelete:l.onDelete,deleteText:l.deleteText},{size:l.size||"small",closable:l.closable!==!1}),confirmLarge:(e,s,r,n)=>H.open("ConfirmModal",{title:e,message:s,onConfirm:r,onCancel:n},{size:"large",closable:!1}),alert:(e,s,r)=>H.open("AlertModal",{title:e,message:s,onClose:r},{size:"small"}),prompt:(e,s,r="",n,l)=>H.open("PromptModal",{title:e,message:s,placeholder:r,defaultValue:"",inputValue:"",onSubmit:n,onCancel:l},{size:"medium"}),form:(e,s,r,n,l,o,v,i={})=>H.open("FormModal",{title:e,message:s,field1Label:r.label||"Field 1",field1Type:r.type||"text",field1Placeholder:r.placeholder||"Enter value...",field1Value:r.value||"",field1Min:r.min,field1Max:r.max,field2Label:n.label||"Field 2",field2Type:n.type||"text",field2Placeholder:n.placeholder||"Enter value...",field2Value:n.value||"",field2Min:n.min,field2Max:n.max,onSubmit:l,onCancel:o,onDelete:v},{size:i.size||"medium",closable:i.closable!==!1})}}const H=Aa(),te="authState";function be(){try{const a=localStorage.getItem(te);if(a){const t=JSON.parse(a);if(t&&typeof t.isAuthenticated=="boolean")return t}}catch(a){console.warn("Failed to parse stored auth state:",a),localStorage.removeItem(te)}return{isAuthenticated:!1,userType:null,userData:null}}function j(a){try{localStorage.setItem(te,JSON.stringify(a))}catch(t){console.warn("Failed to save auth state to localStorage:",t)}}function Ea(){const a=be(),{subscribe:t,set:e,update:s}=re(a);return{subscribe:t,login:(r,n)=>{const l={isAuthenticated:!0,userType:r,userData:n};e(l),j(l)},logout:async()=>{const r=da(ya);if(r.isAuthenticated&&r.userData)try{await fetch("/api/activity-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({activity_type:"user_logout",user_id:r.userData.id,user_account_number:r.userData.accountNumber,activity_data:{full_name:r.userData.name,account_type:r.userType}})})}catch(l){console.error("Failed to log logout activity:",l)}const n={isAuthenticated:!1,userType:null,userData:null};e(n),j(n)},updateUserData:r=>{s(n=>{const l={...n,userData:r};return j(l),l})},initialize:()=>{const r=be();e(r)}}}const ya=Ea();export{Va as T,_e as a,Ha as b,ya as c,xa as d,Da as e,Ca as f,Fa as g,La as h,ka as i,Ra as j,za as k,H as m,Oa as r,ba as s,k as t};
