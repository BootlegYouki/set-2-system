import{c as Se,b as Ne,aj as ge,G as U,h as T,ak as ke,a as De,l as x,Z as xe,D as Oe,H as Le,F as le,I as B,f as R,al as Re,am as He,d as $,s as ze,an as P,ao as q,e as D,ap as ne,O as Ce,aq as ie,ar as pe,as as Fe,J as we,p as Ve,at as Pe,au as Y,M as ee,av as Te,aw as qe,ax as Ge,ay as Je,az as Ue,aA as Be,a0 as Ye,aB as Ke,aC as Qe,aD as We,aE as Xe,aF as Ze,aG as je,aH as Ae,af as $e,j as ea,L as Ee,aI as aa,aJ as ta,T as ra,aK as re,aL as sa,q as la,ad as na,Q as oe,ae as ue,ag as ia,v as oa,x as ce,y as ua,t as ca,z as F,A as V,B as fe,w as fa,C as de,R as da}from"./CzqljEhS.js";import"./DsnmJJEf.js";import{p as K,i as va}from"./C8VmeVqX.js";function ka(a,t){return t}function _a(a,t,e){for(var s=a.items,r=[],n=t.length,l=0;l<n;l++)Je(t[l].e,r,!0);var i=n>0&&r.length===0&&e!==null;if(i){var _=e.parentNode;Ue(_),_.append(e),s.clear(),I(a,t[0].prev,t[n-1].next)}Be(r,()=>{for(var u=0;u<n;u++){var h=t[u];i||(s.delete(h.k),I(a,h.prev,h.next)),Te(h.e,!i)}})}function Da(a,t,e,s,r,n=null){var l=a,i={flags:t,items:new Map,first:null},_=(t&ge)!==0;if(_){var u=a;l=T?U(ke(u)):u.appendChild(Se())}T&&De();var h=null,A=!1,E=new Map,w=xe(()=>{var m=e();return Fe(m)?m:m==null?[]:pe(m)}),c,v;function d(){ha(v,c,i,E,l,r,t,s,e),n!==null&&(c.length===0?h?we(h):h=$(()=>n(l)):h!==null&&Ve(h,()=>{h=null}))}Ne(()=>{v??=Ye,c=x(w);var m=c.length;if(A&&m===0)return;A=m===0;let S=!1;if(T){var p=Oe(l)===Le;p!==(m===0)&&(l=le(),U(l),B(!1),S=!0)}if(T){for(var y=null,b,o=0;o<m;o++){if(R.nodeType===Re&&R.data===He){l=R,S=!0,B(!1);break}var f=c[o],g=s(f,o);b=ae(R,i,y,null,f,g,o,r,t,e),i.items.set(g,b),y=b}m>0&&U(le())}if(T)m===0&&n&&(h=$(()=>n(l)));else if(ze()){var O=new Set,z=D;for(o=0;o<m;o+=1){f=c[o],g=s(f,o);var N=i.items.get(g)??E.get(g);N?(t&(P|q))!==0&&ye(N,f,o,t):(b=ae(null,i,null,null,f,g,o,r,t,e,!0),E.set(g,b)),O.add(g)}for(const[M,C]of i.items)O.has(M)||z.skipped_effects.add(C.e);z.add_callback(d)}else d();S&&B(!0),x(w)}),T&&(l=R)}function ha(a,t,e,s,r,n,l,i,_){var u=(l&qe)!==0,h=(l&(P|q))!==0,A=t.length,E=e.items,w=e.first,c=w,v,d=null,m,S=[],p=[],y,b,o,f;if(u)for(f=0;f<A;f+=1)y=t[f],b=i(y,f),o=E.get(b),o!==void 0&&(o.a?.measure(),(m??=new Set).add(o));for(f=0;f<A;f+=1){if(y=t[f],b=i(y,f),o=E.get(b),o===void 0){var g=s.get(b);if(g!==void 0){s.delete(b),E.set(b,g);var O=d?d.next:c;I(e,d,g),I(e,g,O),Q(g,O,r),d=g}else{var z=c?c.e.nodes_start:r;d=ae(z,e,d,d===null?e.first:d.next,y,b,f,n,l,_)}E.set(b,d),S=[],p=[],c=d.next;continue}if(h&&ye(o,y,f,l),(o.e.f&Y)!==0&&(we(o.e),u&&(o.a?.unfix(),(m??=new Set).delete(o))),o!==c){if(v!==void 0&&v.has(o)){if(S.length<p.length){var N=p[0],M;d=N.prev;var C=S[0],G=S[S.length-1];for(M=0;M<S.length;M+=1)Q(S[M],N,r);for(M=0;M<p.length;M+=1)v.delete(p[M]);I(e,C.prev,G.next),I(e,d,C),I(e,G,N),c=N,d=G,f-=1,S=[],p=[]}else v.delete(o),Q(o,c,r),I(e,o.prev,o.next),I(e,o,d===null?e.first:d.next),I(e,d,o),d=o;continue}for(S=[],p=[];c!==null&&c.k!==b;)(c.e.f&Y)===0&&(v??=new Set).add(c),p.push(c),c=c.next;if(c===null)continue;o=c}S.push(o),d=o,c=o.next}if(c!==null||v!==void 0){for(var L=v===void 0?[]:pe(v);c!==null;)(c.e.f&Y)===0&&L.push(c),c=c.next;var J=L.length;if(J>0){var Me=(l&ge)!==0&&A===0?r:null;if(u){for(f=0;f<J;f+=1)L[f].a?.measure();for(f=0;f<J;f+=1)L[f].a?.fix()}_a(e,L,Me)}}u&&ee(()=>{if(m!==void 0)for(o of m)o.a?.apply()}),a.first=e.first&&e.first.e,a.last=d&&d.e;for(var Ie of s.values())Te(Ie.e);s.clear()}function ye(a,t,e,s){(s&P)!==0&&ne(a.v,t),(s&q)!==0?ne(a.i,e):a.i=e}function ae(a,t,e,s,r,n,l,i,_,u,h){var A=(_&P)!==0,E=(_&Pe)===0,w=A?E?Ce(r,!1,!1):ie(r):r,c=(_&q)===0?l:ie(l),v={i:c,v:w,k:n,a:null,e:null,prev:e,next:s};try{if(a===null){var d=document.createDocumentFragment();d.append(a=Se())}return v.e=$(()=>i(a,w,c,u),T),v.e.prev=e&&e.e,v.e.next=s&&s.e,e===null?h||(t.first=v):(e.next=v,e.e.next=v.e),s!==null&&(s.prev=v,s.e.prev=v.e),v}finally{}}function Q(a,t,e){for(var s=a.next?a.next.e.nodes_start:e,r=t?t.e.nodes_start:e,n=a.e.nodes_start;n!==null&&n!==s;){var l=Ge(n);r.before(n),n=l}}function I(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}const ve=[...` 	
\r\fÂ \v\uFEFF`];function ma(a,t,e){var s=a==null?"":""+a;if(t&&(s=s?s+" "+t:t),e){for(var r in e)if(e[r])s=s?s+" "+r:r;else if(s.length)for(var n=r.length,l=0;(l=s.indexOf(r,l))>=0;){var i=l+n;(l===0||ve.includes(s[l-1]))&&(i===s.length||ve.includes(s[i]))?s=(l===0?"":s.substring(0,l))+s.substring(i+1):l=i}}return s===""?null:s}function xa(a,t){return a==null?null:String(a)}function ba(a,t,e,s,r,n){var l=a.__className;if(T||l!==e||l===void 0){var i=ma(e,s,n);(!T||i!==a.getAttribute("class"))&&(i==null?a.removeAttribute("class"):a.className=i),a.__className=e}else if(n&&r!==n)for(var _ in n){var u=!!n[_];(r==null||u!==!!r[_])&&a.classList.toggle(_,u)}return n}const Sa=Symbol("is custom element"),ga=Symbol("is html");function Oa(a){if(T){var t=!1,e=()=>{if(!t){if(t=!0,a.hasAttribute("value")){var s=a.value;_e(a,"value",null),a.value=s}if(a.hasAttribute("checked")){var r=a.checked;_e(a,"checked",null),a.checked=r}}};a.__on_r=e,Xe(e),Ze()}}function La(a,t){var e=se(a);e.value===(e.value=t??void 0)||a.value===t&&(t!==0||a.nodeName!=="PROGRESS")||(a.value=t??"")}function Ra(a,t){var e=se(a);e.checked!==(e.checked=t??void 0)&&(a.checked=t)}function _e(a,t,e,s){var r=se(a);T&&(r[t]=a.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&a.nodeName==="LINK")||r[t]!==(r[t]=e)&&(t==="loading"&&(a[je]=e),e==null?a.removeAttribute(t):typeof e!="string"&&pa(a).includes(t)?a[t]=e:a.setAttribute(t,e))}function se(a){return a.__attributes??={[Sa]:a.nodeName.includes("-"),[ga]:a.namespaceURI===Ke}}var he=new Map;function pa(a){var t=a.getAttribute("is")||a.nodeName,e=he.get(t);if(e)return e;he.set(t,e=[]);for(var s,r=a,n=Element.prototype;n!==r;){s=We(r);for(var l in s)s[l].set&&e.push(l);r=Qe(r)}return e}function Ha(a,t,e=t){var s=new WeakSet;Ae(a,"input",async r=>{var n=r?a.defaultValue:a.value;if(n=X(a)?Z(n):n,e(n),D!==null&&s.add(D),await $e(),n!==(n=t())){var l=a.selectionStart,i=a.selectionEnd;a.value=n??"",i!==null&&(a.selectionStart=l,a.selectionEnd=Math.min(i,a.value.length))}}),(T&&a.defaultValue!==a.value||ea(t)==null&&a.value)&&(e(X(a)?Z(a.value):a.value),D!==null&&s.add(D)),Ee(()=>{var r=t();if(a===document.activeElement){var n=aa??D;if(s.has(n))return}X(a)&&r===Z(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}const W=new Set;function za(a,t,e,s,r=s){var n=e.getAttribute("type")==="checkbox",l=a;let i=!1;if(t!==null)for(var _ of t)l=l[_]??=[];l.push(e),Ae(e,"change",()=>{var u=e.__value;n&&(u=me(l,u,e.checked)),r(u)},()=>r(n?[]:null)),Ee(()=>{var u=s();if(T&&e.defaultChecked!==e.checked){i=!0;return}n?(u=u||[],e.checked=u.includes(e.__value)):e.checked=ta(e.__value,u)}),ra(()=>{var u=l.indexOf(e);u!==-1&&l.splice(u,1)}),W.has(l)||(W.add(l),ee(()=>{l.sort((u,h)=>u.compareDocumentPosition(h)===4?-1:1),W.delete(l)})),ee(()=>{if(i){var u;if(n)u=me(l,u,e.checked);else{var h=l.find(A=>A.checked);u=h?.__value}r(u)}})}function me(a,t,e){for(var s=new Set,r=0;r<a.length;r+=1)a[r].checked&&s.add(a[r].__value);return e||s.delete(t),Array.from(s)}function X(a){var t=a.type;return t==="number"||t==="range"}function Z(a){return a===""?null:+a}function wa(){const{subscribe:a,update:t}=re([]);return{subscribe:a,add:(e,s="success",r=3e3)=>{const n=Date.now()+Math.random(),l={id:n,message:e,type:s,duration:r};return t(i=>[...i,l]),r>0&&setTimeout(()=>{setTimeout(()=>{t(i=>i.filter(_=>_.id!==n))},300)},r),n},remove:e=>{t(s=>s.filter(r=>r.id!==e))},clear:()=>{t(()=>[])},success:(e,s=3e3)=>k.add(e,"success",s),error:(e,s=4e3)=>k.add(e,"error",s),warning:(e,s=3500)=>k.add(e,"warning",s),info:(e,s=3e3)=>k.add(e,"info",s)}}const k=wa();k.add;const Ca=(a,t)=>k.add(a,"success",t),Fa=(a,t)=>k.add(a,"error",t);var Ta=ca('<div><div class="toast-content svelte-l93vew"><span class="material-symbols-outlined toast-icon svelte-l93vew"> </span> <span class="toast-message svelte-l93vew"> </span> <button class="toast-close svelte-l93vew" aria-label="Close notification"><span class="material-symbols-outlined svelte-l93vew">close</span></button></div></div>');function Va(a,t){la(t,!0);let e=K(t,"message",3,""),s=K(t,"type",3,"success"),r=K(t,"duration",3,3e3),n=ue(!0),l=ue(!1),i;na(()=>(r()>0&&(i=setTimeout(()=>{_()},r())),()=>{i&&clearTimeout(i)}));function _(){oe(l,!0),setTimeout(()=>{oe(n,!1),t.onClose&&t.onClose()},300)}function u(w){switch(w){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"check_circle"}}var h=ia(),A=oa(h);{var E=w=>{var c=Ta();let v;var d=F(c),m=F(d),S=F(m,!0);V(m);var p=fe(m,2),y=F(p,!0);V(p);var b=fe(p,2);b.__click=_,V(d),V(c),fa((o,f)=>{v=ba(c,1,`toast toast-${s()??""}`,"svelte-l93vew",v,o),de(S,f),de(y,e())},[()=>({"toast-visible":x(n)&&!x(l),"toast-hiding":x(l)}),()=>u(s())]),ce(w,c)};va(A,w=>{x(n)&&w(E)})}ce(a,h),ua()}sa(["click"]);function Aa(){const{subscribe:a,update:t}=re([]);return{subscribe:a,open:(e,s={},r={})=>{const n=Date.now()+Math.random(),l={id:n,component:e,props:s,options:{closable:!0,backdrop:!0,size:"medium",...r}};return t(i=>[...i,l]),n},close:e=>{t(s=>s.filter(r=>r.id!==e))},closeTop:()=>{t(e=>e.length>0?e.slice(0,-1):e)},closeAll:()=>{t(()=>[])},confirm:(e,s,r,n,l={})=>H.open("ConfirmModal",{title:e,message:s,onConfirm:r,onCancel:n,onDelete:l.onDelete,deleteText:l.deleteText},{size:l.size||"small",closable:l.closable!==!1}),confirmLarge:(e,s,r,n)=>H.open("ConfirmModal",{title:e,message:s,onConfirm:r,onCancel:n},{size:"large",closable:!1}),alert:(e,s,r)=>H.open("AlertModal",{title:e,message:s,onClose:r},{size:"small"}),prompt:(e,s,r="",n,l)=>H.open("PromptModal",{title:e,message:s,placeholder:r,defaultValue:"",inputValue:"",onSubmit:n,onCancel:l},{size:"medium"}),form:(e,s,r,n,l,i,_,u={})=>H.open("FormModal",{title:e,message:s,field1Label:r.label||"Field 1",field1Type:r.type||"text",field1Placeholder:r.placeholder||"Enter value...",field1Value:r.value||"",field1Min:r.min,field1Max:r.max,field2Label:n.label||"Field 2",field2Type:n.type||"text",field2Placeholder:n.placeholder||"Enter value...",field2Value:n.value||"",field2Min:n.min,field2Max:n.max,onSubmit:l,onCancel:i,onDelete:_},{size:u.size||"medium",closable:u.closable!==!1})}}const H=Aa(),te="authState";function be(){try{const a=localStorage.getItem(te);if(a){const t=JSON.parse(a);if(t&&typeof t.isAuthenticated=="boolean")return t}}catch(a){console.warn("Failed to parse stored auth state:",a),localStorage.removeItem(te)}return{isAuthenticated:!1,userType:null,userData:null}}function j(a){try{localStorage.setItem(te,JSON.stringify(a))}catch(t){console.warn("Failed to save auth state to localStorage:",t)}}function Ea(){const a=be(),{subscribe:t,set:e,update:s}=re(a);return{subscribe:t,login:(r,n)=>{const l={isAuthenticated:!0,userType:r,userData:n};e(l),j(l)},logout:async()=>{const r=da(ya);if(r.isAuthenticated&&r.userData)try{await fetch("/api/activity-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({activity_type:"user_logout",user_id:r.userData.id,user_account_number:r.userData.accountNumber,activity_data:{full_name:r.userData.name,account_type:r.userType}})})}catch(l){console.error("Failed to log logout activity:",l)}const n={isAuthenticated:!1,userType:null,userData:null};e(n),j(n)},updateUserData:r=>{s(n=>{const l={...n,userData:r};return j(l),l})},initialize:()=>{const r=be();e(r)}}}const ya=Ea();export{Va as T,_e as a,Ha as b,ya as c,xa as d,Da as e,Ca as f,Fa as g,La as h,ka as i,Ra as j,za as k,H as m,Oa as r,ba as s,k as t};
