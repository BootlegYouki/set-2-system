import{c as we,b as He,aj as Te,G as q,h as w,ak as C,a as ee,l as R,Z as Ce,D as ze,H as Fe,F as ie,I as B,f as I,al as Ae,am as Pe,d as ae,s as Ve,an as G,ao as J,e as O,ap as oe,O as qe,aq as ue,ar as Ee,as as Ge,J as ye,p as Je,at as Ue,au as K,M as re,av as Me,aw as Ye,ax as De,ay as Be,az as Ke,aA as Qe,a0 as Ne,w as Ie,aB as We,aC as Xe,aD as Ze,aE as ce,aF as je,aG as $e,aH as ea,aI as aa,aJ as ra,aK as ta,aL as sa,aM as ke,af as la,j as na,L as Oe,aN as ia,aO as oa,T as ua,aP as le,aQ as ca,q as fa,ad as da,Q as fe,ae as de,ag as va,v as _a,x as ve,y as ha,t as ma,z as P,A as V,B as _e,C as he,R as ba}from"./DfuX6PLp.js";import"./DsnmJJEf.js";import{p as Q,i as ga}from"./X9SYq9-G.js";function xa(a,r){return r}function pa(a,r,e){for(var s=a.items,t=[],n=r.length,l=0;l<n;l++)Be(r[l].e,t,!0);var o=n>0&&t.length===0&&e!==null;if(o){var f=e.parentNode;Ke(f),f.append(e),s.clear(),D(a,r[0].prev,r[n-1].next)}Qe(t,()=>{for(var i=0;i<n;i++){var d=r[i];o||(s.delete(d.k),D(a,d.prev,d.next)),Me(d.e,!o)}})}function Ha(a,r,e,s,t,n=null){var l=a,o={flags:r,items:new Map,first:null},f=(r&Te)!==0;if(f){var i=a;l=w?q(C(i)):i.appendChild(we())}w&&ee();var d=null,b=!1,E=new Map,A=Ce(()=>{var m=e();return Ge(m)?m:m==null?[]:Ee(m)}),c,h;function _(){Sa(h,c,o,E,l,t,r,s,e),n!==null&&(c.length===0?d?ye(d):d=ae(()=>n(l)):d!==null&&Je(d,()=>{d=null}))}He(()=>{h??=Ne,c=R(A);var m=c.length;if(b&&m===0)return;b=m===0;let p=!1;if(w){var T=ze(l)===Fe;T!==(m===0)&&(l=ie(),q(l),B(!1),p=!0)}if(w){for(var y=null,g,u=0;u<m;u++){if(I.nodeType===Ae&&I.data===Pe){l=I,p=!0,B(!1);break}var v=c[u],S=s(v,u);g=te(I,o,y,null,v,S,u,t,r,e),o.items.set(S,g),y=g}m>0&&q(ie())}if(w)m===0&&n&&(d=ae(()=>n(l)));else if(Ve()){var L=new Set,z=O;for(u=0;u<m;u+=1){v=c[u],S=s(v,u);var N=o.items.get(S)??E.get(S);N?(r&(G|J))!==0&&Re(N,v,u,r):(g=te(null,o,null,null,v,S,u,t,r,e,!0),E.set(S,g)),L.add(S)}for(const[M,F]of o.items)L.has(M)||z.skipped_effects.add(F.e);z.add_callback(_)}else _();p&&B(!0),R(A)}),w&&(l=I)}function Sa(a,r,e,s,t,n,l,o,f){var i=(l&Ye)!==0,d=(l&(G|J))!==0,b=r.length,E=e.items,A=e.first,c=A,h,_=null,m,p=[],T=[],y,g,u,v;if(i)for(v=0;v<b;v+=1)y=r[v],g=o(y,v),u=E.get(g),u!==void 0&&(u.a?.measure(),(m??=new Set).add(u));for(v=0;v<b;v+=1){if(y=r[v],g=o(y,v),u=E.get(g),u===void 0){var S=s.get(g);if(S!==void 0){s.delete(g),E.set(g,S);var L=_?_.next:c;D(e,_,S),D(e,S,L),W(S,L,t),_=S}else{var z=c?c.e.nodes_start:t;_=te(z,e,_,_===null?e.first:_.next,y,g,v,n,l,f)}E.set(g,_),p=[],T=[],c=_.next;continue}if(d&&Re(u,y,v,l),(u.e.f&K)!==0&&(ye(u.e),i&&(u.a?.unfix(),(m??=new Set).delete(u))),u!==c){if(h!==void 0&&h.has(u)){if(p.length<T.length){var N=T[0],M;_=N.prev;var F=p[0],U=p[p.length-1];for(M=0;M<p.length;M+=1)W(p[M],N,t);for(M=0;M<T.length;M+=1)h.delete(T[M]);D(e,F.prev,U.next),D(e,_,F),D(e,U,N),c=N,_=U,v-=1,p=[],T=[]}else h.delete(u),W(u,c,t),D(e,u.prev,u.next),D(e,u,_===null?e.first:_.next),D(e,_,u),_=u;continue}for(p=[],T=[];c!==null&&c.k!==g;)(c.e.f&K)===0&&(h??=new Set).add(c),T.push(c),c=c.next;if(c===null)continue;u=c}p.push(u),_=u,c=u.next}if(c!==null||h!==void 0){for(var x=h===void 0?[]:Ee(h);c!==null;)(c.e.f&K)===0&&x.push(c),c=c.next;var Y=x.length;if(Y>0){var Le=(l&Te)!==0&&b===0?t:null;if(i){for(v=0;v<Y;v+=1)x[v].a?.measure();for(v=0;v<Y;v+=1)x[v].a?.fix()}pa(e,x,Le)}}i&&re(()=>{if(m!==void 0)for(u of m)u.a?.apply()}),a.first=e.first&&e.first.e,a.last=_&&_.e;for(var xe of s.values())Me(xe.e);s.clear()}function Re(a,r,e,s){(s&G)!==0&&oe(a.v,r),(s&J)!==0?oe(a.i,e):a.i=e}function te(a,r,e,s,t,n,l,o,f,i,d){var b=(f&G)!==0,E=(f&Ue)===0,A=b?E?qe(t,!1,!1):ue(t):t,c=(f&J)===0?l:ue(l),h={i:c,v:A,k:n,a:null,e:null,prev:e,next:s};try{if(a===null){var _=document.createDocumentFragment();_.append(a=we())}return h.e=ae(()=>o(a,A,c,i),w),h.e.prev=e&&e.e,h.e.next=s&&s.e,e===null?d||(r.first=h):(e.next=h,e.e.next=h.e),s!==null&&(s.prev=h,s.e.prev=h.e),h}finally{}}function W(a,r,e){for(var s=a.next?a.next.e.nodes_start:e,t=r?r.e.nodes_start:e,n=a.e.nodes_start;n!==null&&n!==s;){var l=De(n);t.before(n),n=l}}function D(a,r,e){r===null?a.first=e:(r.next=e,r.e.next=e&&e.e),e!==null&&(e.prev=r,e.e.prev=r&&r.e)}function Ca(a,r,e=!1,s=!1,t=!1){var n=a,l="";Ie(()=>{var o=Ne;if(l===(l=r()??"")){w&&ee();return}if(o.nodes_start!==null&&(We(o.nodes_start,o.nodes_end),o.nodes_start=o.nodes_end=null),l!==""){if(w){I.data;for(var f=ee(),i=f;f!==null&&(f.nodeType!==Ae||f.data!=="");)i=f,f=De(f);if(f===null)throw Xe(),Ze;ce(I,i),n=q(f);return}var d=l+"";e?d=`<svg>${d}</svg>`:s&&(d=`<math>${d}</math>`);var b=je(d);if((e||s)&&(b=C(b)),ce(C(b),b.lastChild),e||s)for(;C(b);)n.before(C(b));else n.before(b)}})}const me=[...` 	
\r\fÂ \v\uFEFF`];function wa(a,r,e){var s=a==null?"":""+a;if(r&&(s=s?s+" "+r:r),e){for(var t in e)if(e[t])s=s?s+" "+t:t;else if(s.length)for(var n=t.length,l=0;(l=s.indexOf(t,l))>=0;){var o=l+n;(l===0||me.includes(s[l-1]))&&(o===s.length||me.includes(s[o]))?s=(l===0?"":s.substring(0,l))+s.substring(o+1):l=o}}return s===""?null:s}function za(a,r){return a==null?null:String(a)}function Ta(a,r,e,s,t,n){var l=a.__className;if(w||l!==e||l===void 0){var o=wa(e,s,n);(!w||o!==a.getAttribute("class"))&&(o==null?a.removeAttribute("class"):a.className=o),a.__className=e}else if(n&&t!==n)for(var f in n){var i=!!n[f];(t==null||i!==!!t[f])&&a.classList.toggle(f,i)}return n}const Aa=Symbol("is custom element"),Ea=Symbol("is html");function Fa(a){if(w){var r=!1,e=()=>{if(!r){if(r=!0,a.hasAttribute("value")){var s=a.value;be(a,"value",null),a.value=s}if(a.hasAttribute("checked")){var t=a.checked;be(a,"checked",null),a.checked=t}}};a.__on_r=e,ra(e),ta()}}function Pa(a,r){var e=ne(a);e.value===(e.value=r??void 0)||a.value===r&&(r!==0||a.nodeName!=="PROGRESS")||(a.value=r??"")}function Va(a,r){var e=ne(a);e.checked!==(e.checked=r??void 0)&&(a.checked=r)}function be(a,r,e,s){var t=ne(a);w&&(t[r]=a.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&a.nodeName==="LINK")||t[r]!==(t[r]=e)&&(r==="loading"&&(a[sa]=e),e==null?a.removeAttribute(r):typeof e!="string"&&ya(a).includes(r)?a[r]=e:a.setAttribute(r,e))}function ne(a){return a.__attributes??={[Aa]:a.nodeName.includes("-"),[Ea]:a.namespaceURI===$e}}var ge=new Map;function ya(a){var r=a.getAttribute("is")||a.nodeName,e=ge.get(r);if(e)return e;ge.set(r,e=[]);for(var s,t=a,n=Element.prototype;n!==t;){s=aa(t);for(var l in s)s[l].set&&e.push(l);t=ea(t)}return e}function qa(a,r,e=r){var s=new WeakSet;ke(a,"input",async t=>{var n=t?a.defaultValue:a.value;if(n=Z(a)?j(n):n,e(n),O!==null&&s.add(O),await la(),n!==(n=r())){var l=a.selectionStart,o=a.selectionEnd;a.value=n??"",o!==null&&(a.selectionStart=l,a.selectionEnd=Math.min(o,a.value.length))}}),(w&&a.defaultValue!==a.value||na(r)==null&&a.value)&&(e(Z(a)?j(a.value):a.value),O!==null&&s.add(O)),Oe(()=>{var t=r();if(a===document.activeElement){var n=ia??O;if(s.has(n))return}Z(a)&&t===j(a.value)||a.type==="date"&&!t&&!a.value||t!==a.value&&(a.value=t??"")})}const X=new Set;function Ga(a,r,e,s,t=s){var n=e.getAttribute("type")==="checkbox",l=a;let o=!1;if(r!==null)for(var f of r)l=l[f]??=[];l.push(e),ke(e,"change",()=>{var i=e.__value;n&&(i=pe(l,i,e.checked)),t(i)},()=>t(n?[]:null)),Oe(()=>{var i=s();if(w&&e.defaultChecked!==e.checked){o=!0;return}n?(i=i||[],e.checked=i.includes(e.__value)):e.checked=oa(e.__value,i)}),ua(()=>{var i=l.indexOf(e);i!==-1&&l.splice(i,1)}),X.has(l)||(X.add(l),re(()=>{l.sort((i,d)=>i.compareDocumentPosition(d)===4?-1:1),X.delete(l)})),re(()=>{if(o){var i;if(n)i=pe(l,i,e.checked);else{var d=l.find(b=>b.checked);i=d?.__value}t(i)}})}function pe(a,r,e){for(var s=new Set,t=0;t<a.length;t+=1)a[t].checked&&s.add(a[t].__value);return e||s.delete(r),Array.from(s)}function Z(a){var r=a.type;return r==="number"||r==="range"}function j(a){return a===""?null:+a}function Ma(){const{subscribe:a,update:r}=le([]);return{subscribe:a,add:(e,s="success",t=3e3)=>{const n=Date.now()+Math.random(),l={id:n,message:e,type:s,duration:t};let o=!0;return r(f=>f.some(d=>d.message===e&&d.type===s)?(o=!1,f):[...f,l]),o?(t>0&&setTimeout(()=>{setTimeout(()=>{r(f=>f.filter(i=>i.id!==n))},300)},t),n):null},remove:e=>{r(s=>s.filter(t=>t.id!==e))},clear:()=>{r(()=>[])},success:(e,s=3e3)=>k.add(e,"success",s),error:(e,s=4e3)=>k.add(e,"error",s),warning:(e,s=3500)=>k.add(e,"warning",s),info:(e,s=3e3)=>k.add(e,"info",s)}}const k=Ma();k.add;const Ja=(a,r)=>k.add(a,"success",r),Ua=(a,r)=>k.add(a,"error",r);var Da=ma('<div><div class="toast-content svelte-l93vew"><span class="material-symbols-outlined toast-icon svelte-l93vew"> </span> <span class="toast-message svelte-l93vew"> </span> <button class="toast-close svelte-l93vew" aria-label="Close notification"><span class="material-symbols-outlined svelte-l93vew">close</span></button></div></div>');function Ya(a,r){fa(r,!0);let e=Q(r,"message",3,""),s=Q(r,"type",3,"success"),t=Q(r,"duration",3,3e3),n=de(!0),l=de(!1),o;da(()=>(t()>0&&(o=setTimeout(()=>{f()},t())),()=>{o&&clearTimeout(o)}));function f(){fe(l,!0),setTimeout(()=>{fe(n,!1),r.onClose&&r.onClose()},300)}function i(A){switch(A){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"check_circle"}}var d=va(),b=_a(d);{var E=A=>{var c=Da();let h;var _=P(c),m=P(_),p=P(m,!0);V(m);var T=_e(m,2),y=P(T,!0);V(T);var g=_e(T,2);g.__click=f,V(_),V(c),Ie((u,v)=>{h=Ta(c,1,`toast toast-${s()??""}`,"svelte-l93vew",h,u),he(p,v),he(y,e())},[()=>({"toast-visible":R(n)&&!R(l),"toast-hiding":R(l)}),()=>i(s())]),ve(A,c)};ga(b,A=>{R(n)&&A(E)})}ve(a,d),ha()}ca(["click"]);function Na(){const{subscribe:a,update:r}=le([]);return{subscribe:a,open:(e,s={},t={})=>{const n=Date.now()+Math.random(),l={id:n,component:e,props:s,options:{closable:!0,backdrop:!0,size:"medium",...t}};return r(o=>[...o,l]),n},close:e=>{r(s=>s.filter(t=>t.id!==e))},closeTop:()=>{r(e=>e.length>0?e.slice(0,-1):e)},closeAll:()=>{r(()=>[])},confirm:(e,s,t,n,l={})=>H.open("ConfirmModal",{title:e,message:s,onConfirm:t,onCancel:n,onDelete:l.onDelete,deleteText:l.deleteText},{size:l.size||"small",closable:l.closable!==!1}),confirmLarge:(e,s,t,n)=>H.open("ConfirmModal",{title:e,message:s,onConfirm:t,onCancel:n},{size:"large",closable:!1}),alert:(e,s,t)=>H.open("AlertModal",{title:e,message:s,onClose:t},{size:"small"}),prompt:(e,s,t="",n,l)=>H.open("PromptModal",{title:e,message:s,placeholder:t,defaultValue:"",inputValue:"",onSubmit:n,onCancel:l},{size:"medium"}),form:(e,s,t,n,l,o,f,i={})=>H.open("FormModal",{title:e,message:s,field1Label:t.label||"Field 1",field1Type:t.type||"text",field1Placeholder:t.placeholder||"Enter value...",field1Value:t.value||"",field1Min:t.min,field1Max:t.max,field2Label:n.label||"Field 2",field2Type:n.type||"text",field2Placeholder:n.placeholder||"Enter value...",field2Value:n.value||"",field2Min:n.min,field2Max:n.max,onSubmit:l,onCancel:o,onDelete:f,deleteDisabled:i.deleteDisabled||!1,deleteDisabledReason:i.deleteDisabledReason||""},{size:i.size||"medium",closable:i.closable!==!1})}}const H=Na(),se="authState";function Se(){try{const a=localStorage.getItem(se);if(a){const r=JSON.parse(a);if(r&&typeof r.isAuthenticated=="boolean")return r}}catch(a){console.warn("Failed to parse stored auth state:",a),localStorage.removeItem(se)}return{isAuthenticated:!1,userType:null,userData:null}}function $(a){try{localStorage.setItem(se,JSON.stringify(a))}catch(r){console.warn("Failed to save auth state to localStorage:",r)}}function Ia(){const a=Se(),{subscribe:r,set:e,update:s}=le(a);return{subscribe:r,login:(t,n)=>{const l={isAuthenticated:!0,userType:t,userData:n};e(l),$(l)},logout:async()=>{const t=ba(ka);if(t.isAuthenticated&&t.userData)try{await fetch("/api/activity-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({activity_type:"user_logout",user_id:t.userData.id,user_account_number:t.userData.accountNumber,activity_data:{full_name:t.userData.name,account_type:t.userType}})})}catch(l){console.error("Failed to log logout activity:",l)}const n={isAuthenticated:!1,userType:null,userData:null};e(n),$(n)},updateUserData:t=>{s(n=>{const l={...n,userData:t};return $(l),l})},initialize:()=>{const t=Se();e(t)}}}const ka=Ia();export{Ya as T,be as a,qa as b,ka as c,za as d,Ha as e,Ja as f,Pa as g,Ca as h,xa as i,Ua as j,Va as k,Ga as l,H as m,Fa as r,Ta as s,k as t};
