{"version":3,"file":"db-9uwR-1fD.js","sources":["../../../.svelte-kit/adapter-node/chunks/db.js"],"sourcesContent":["import { MongoClient, ServerApiVersion } from \"mongodb\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst uri = process.env.MONGODB_URI;\nconst dbName = process.env.MONGODB_DB_NAME || \"set-2-system\";\nconst client = new MongoClient(uri, {\n  serverApi: {\n    version: ServerApiVersion.v1,\n    strict: true,\n    deprecationErrors: true\n  }\n});\nlet isConnected = false;\nasync function connectToDatabase() {\n  try {\n    console.log(\"Attempting to connect to MongoDB...\");\n    console.log(\"MongoDB URI:\", uri ? \"URI is set\" : \"URI is missing\");\n    console.log(\"Database name:\", dbName);\n    if (!isConnected) {\n      await client.connect();\n      isConnected = true;\n      console.log(\"Connected to MongoDB successfully\");\n    }\n    const db = client.db(dbName);\n    console.log(\"Database object created:\", db ? \"Success\" : \"Failed\");\n    return db;\n  } catch (error) {\n    console.error(\"Failed to connect to MongoDB:\", error);\n    throw error;\n  }\n}\nexport {\n  connectToDatabase as a,\n  client as c\n};\n"],"names":[],"mappings":";;;AAEA,MAAM,CAAC,MAAM,EAAE;AACf,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,WAAW;AACnC,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,cAAc;AACvD,MAAC,MAAM,GAAG,IAAI,WAAW,CAAC,GAAG,EAAE;AACpC,EAAE,SAAS,EAAE;AACb,IAAI,OAAO,EAAE,gBAAgB,CAAC,EAAE;AAChC,IAAI,MAAM,EAAE,IAAI;AAChB,IAAI,iBAAiB,EAAE;AACvB;AACA,CAAC;AACD,IAAI,WAAW,GAAG,KAAK;AACvB,eAAe,iBAAiB,GAAG;AACnC,EAAE,IAAI;AACN,IAAI,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC;AACtD,IAAI,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,GAAG,YAAY,GAAG,gBAAgB,CAAC;AACtE,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,MAAM,CAAC;AACzC,IAAI,IAAI,CAAC,WAAW,EAAE;AACtB,MAAM,MAAM,MAAM,CAAC,OAAO,EAAE;AAC5B,MAAM,WAAW,GAAG,IAAI;AACxB,MAAM,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC;AACtD,IAAI;AACJ,IAAI,MAAM,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC;AAChC,IAAI,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,EAAE,GAAG,SAAS,GAAG,QAAQ,CAAC;AACtE,IAAI,OAAO,EAAE;AACb,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,KAAK,CAAC;AACzD,IAAI,MAAM,KAAK;AACf,EAAE;AACF;;;;"}