{"version":3,"file":"_server-MWHlX0Gv.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/student-todos/_server.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { a as connectToDatabase } from \"../../../../chunks/db.js\";\nimport { ObjectId } from \"mongodb\";\nasync function GET({ url }) {\n  try {\n    const studentId = url.searchParams.get(\"studentId\");\n    if (!studentId) {\n      return json({ error: \"studentId parameter is required\" }, { status: 400 });\n    }\n    const db = await connectToDatabase();\n    const student = await db.collection(\"users\").findOne({\n      _id: new ObjectId(studentId),\n      account_type: \"student\",\n      $or: [{ status: { $exists: false } }, { status: \"active\" }]\n    });\n    if (!student) {\n      return json({ error: \"Student not found or invalid account type\" }, { status: 404 });\n    }\n    const todos = await db.collection(\"student_todos\").find({ student_id: studentId }).sort({ created_at: -1 }).toArray();\n    const formattedTodos = todos.map((todo) => ({\n      id: todo._id.toString(),\n      title: todo.title,\n      description: todo.description,\n      category: todo.category,\n      dueDate: todo.due_date ? todo.due_date.toISOString().split(\"T\")[0] : null,\n      completed: todo.completed,\n      createdAt: todo.created_at,\n      updatedAt: todo.updated_at,\n      completedAt: todo.completed_at\n    }));\n    return json({ success: true, data: formattedTodos });\n  } catch (error) {\n    console.error(\"Error in GET /api/student-todos:\", error);\n    if (error.code === \"ECONNREFUSED\" || error.code === \"ENOTFOUND\") {\n      return json({ error: \"Database connection failed\" }, { status: 503 });\n    }\n    return json({ error: \"Failed to fetch todos\" }, { status: 500 });\n  }\n}\nasync function POST({ request }) {\n  try {\n    const { studentId, title, description, category, dueDate } = await request.json();\n    if (!studentId || !title) {\n      return json({ error: \"studentId and title are required\" }, { status: 400 });\n    }\n    const validCategories = [\"assignment\", \"study\", \"personal\", \"project\", \"exam\"];\n    if (category && !validCategories.includes(category)) {\n      return json({ error: \"Invalid category\" }, { status: 400 });\n    }\n    const db = await connectToDatabase();\n    const student = await db.collection(\"users\").findOne({\n      _id: new ObjectId(studentId),\n      account_type: \"student\",\n      $or: [{ status: { $exists: false } }, { status: \"active\" }]\n    });\n    if (!student) {\n      return json({ error: \"Student not found or invalid account type\" }, { status: 404 });\n    }\n    console.log(\"Received dueDate:\", dueDate);\n    const processedDate = dueDate ? /* @__PURE__ */ new Date(dueDate + \"T00:00:00.000Z\") : null;\n    console.log(\"Processed dueDate object:\", processedDate);\n    console.log(\"Processed dueDate ISO:\", processedDate ? processedDate.toISOString() : null);\n    const newTodo = {\n      student_id: studentId,\n      title: title.trim(),\n      description: description ? description.trim() : null,\n      category: category || \"personal\",\n      due_date: processedDate,\n      completed: false,\n      created_at: /* @__PURE__ */ new Date(),\n      updated_at: /* @__PURE__ */ new Date(),\n      completed_at: null\n    };\n    const result = await db.collection(\"student_todos\").insertOne(newTodo);\n    const formattedTodo = {\n      id: result.insertedId.toString(),\n      title: newTodo.title,\n      description: newTodo.description,\n      category: newTodo.category,\n      dueDate: newTodo.due_date ? newTodo.due_date.toISOString().split(\"T\")[0] : null,\n      completed: newTodo.completed,\n      createdAt: newTodo.created_at,\n      updatedAt: newTodo.updated_at,\n      completedAt: newTodo.completed_at\n    };\n    return json({ success: true, data: formattedTodo }, { status: 201 });\n  } catch (error) {\n    console.error(\"Error in POST /api/student-todos:\", error);\n    if (error.code === \"ECONNREFUSED\" || error.code === \"ENOTFOUND\") {\n      return json({ error: \"Database connection failed\" }, { status: 503 });\n    }\n    return json({ error: \"Failed to create todo\" }, { status: 500 });\n  }\n}\nasync function DELETE({ request }) {\n  try {\n    const { id, studentId } = await request.json();\n    if (!id || !studentId) {\n      return json({ error: \"id and studentId are required\" }, { status: 400 });\n    }\n    const db = await connectToDatabase();\n    const existingTodo = await db.collection(\"student_todos\").findOne({\n      _id: new ObjectId(id),\n      student_id: studentId\n    });\n    if (!existingTodo) {\n      return json({ error: \"Todo not found or access denied\" }, { status: 404 });\n    }\n    const student = await db.collection(\"users\").findOne({\n      _id: new ObjectId(studentId),\n      account_type: \"student\",\n      $or: [{ status: { $exists: false } }, { status: \"active\" }]\n    });\n    if (!student) {\n      return json({ error: \"Student not found or invalid account type\" }, { status: 404 });\n    }\n    const result = await db.collection(\"student_todos\").deleteOne({\n      _id: new ObjectId(id),\n      student_id: studentId\n    });\n    if (result.deletedCount === 0) {\n      return json({ error: \"Todo not found\" }, { status: 404 });\n    }\n    return json({ success: true, message: \"Todo deleted successfully\" });\n  } catch (error) {\n    console.error(\"Error in DELETE /api/student-todos:\", error);\n    if (error.code === \"ECONNREFUSED\" || error.code === \"ENOTFOUND\") {\n      return json({ error: \"Database connection failed\" }, { status: 503 });\n    }\n    return json({ error: \"Failed to delete todo\" }, { status: 500 });\n  }\n}\nasync function PUT({ request }) {\n  try {\n    const { id, studentId, action, ...updateData } = await request.json();\n    if (!id || !studentId || !action) {\n      return json({ error: \"id, studentId, and action are required\" }, { status: 400 });\n    }\n    const validActions = [\"toggle\", \"update\"];\n    if (!validActions.includes(action)) {\n      return json({ error: 'Invalid action. Must be \"toggle\" or \"update\"' }, { status: 400 });\n    }\n    const db = await connectToDatabase();\n    const existingTodo = await db.collection(\"student_todos\").findOne({\n      _id: new ObjectId(id),\n      student_id: studentId\n    });\n    if (!existingTodo) {\n      return json({ error: \"Todo not found or access denied\" }, { status: 404 });\n    }\n    const student = await db.collection(\"users\").findOne({\n      _id: new ObjectId(studentId),\n      account_type: \"student\",\n      $or: [{ status: { $exists: false } }, { status: \"active\" }]\n    });\n    if (!student) {\n      return json({ error: \"Student not found or invalid account type\" }, { status: 404 });\n    }\n    let updateFields = { updated_at: /* @__PURE__ */ new Date() };\n    if (action === \"toggle\") {\n      const newCompletedStatus = !existingTodo.completed;\n      updateFields.completed = newCompletedStatus;\n      updateFields.completed_at = newCompletedStatus ? /* @__PURE__ */ new Date() : null;\n    } else if (action === \"update\") {\n      const { title, description, category, dueDate } = updateData;\n      if (title !== void 0) {\n        if (!title.trim()) {\n          return json({ error: \"Title cannot be empty\" }, { status: 400 });\n        }\n        updateFields.title = title.trim();\n      }\n      if (description !== void 0) {\n        updateFields.description = description ? description.trim() : null;\n      }\n      if (category !== void 0) {\n        const validCategories = [\"assignment\", \"study\", \"personal\", \"project\", \"exam\"];\n        if (!validCategories.includes(category)) {\n          return json({ error: \"Invalid category\" }, { status: 400 });\n        }\n        updateFields.category = category;\n      }\n      if (dueDate !== void 0) {\n        updateFields.due_date = dueDate ? /* @__PURE__ */ new Date(dueDate + \"T00:00:00.000Z\") : null;\n      }\n    }\n    const result = await db.collection(\"student_todos\").updateOne(\n      { _id: new ObjectId(id), student_id: studentId },\n      { $set: updateFields }\n    );\n    if (result.matchedCount === 0) {\n      return json({ error: \"Todo not found\" }, { status: 404 });\n    }\n    const updatedTodo = await db.collection(\"student_todos\").findOne({\n      _id: new ObjectId(id)\n    });\n    const formattedTodo = {\n      id: updatedTodo._id.toString(),\n      title: updatedTodo.title,\n      description: updatedTodo.description,\n      category: updatedTodo.category,\n      dueDate: updatedTodo.due_date ? updatedTodo.due_date.toISOString().split(\"T\")[0] : null,\n      completed: updatedTodo.completed,\n      createdAt: updatedTodo.created_at,\n      updatedAt: updatedTodo.updated_at,\n      completedAt: updatedTodo.completed_at\n    };\n    return json({ success: true, data: formattedTodo });\n  } catch (error) {\n    console.error(\"Error in PUT /api/student-todos:\", error);\n    if (error.code === \"ECONNREFUSED\" || error.code === \"ENOTFOUND\") {\n      return json({ error: \"Database connection failed\" }, { status: 503 });\n    }\n    return json({ error: \"Failed to update todo\" }, { status: 500 });\n  }\n}\nexport {\n  DELETE,\n  GET,\n  POST,\n  PUT\n};\n"],"names":[],"mappings":"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"}